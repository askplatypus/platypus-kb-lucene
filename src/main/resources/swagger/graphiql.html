<!DOCTYPE html>
<!--
  ~ Copyright (c) 2016 Platypus Knowledge Base developers.
  ~
  ~ This program is free software: you can redistribute it and/or modify
  ~ it under the terms of the GNU General Public License as published by
  ~ the Free Software Foundation, either version 2 of the License, or
  ~ (at your option) any later version.
  ~
  ~ This program is distributed in the hope that it will be useful,
  ~ but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  ~ GNU General Public License for more details.
  ~
  ~ You should have received a copy of the GNU General Public License
  ~ along with this program.  If not, see <http://www.gnu.org/licenses/>.
  -->

<html>
<head>
    <meta charset="UTF-8">
    <title>Platypus Knowledge base GraphQL API</title>
    <!-- TODO: do not use external dependencies -->
    <link href="//cdn.jsdelivr.net/graphiql/0.8.0/graphiql.css" rel="stylesheet"/>
    <script src="//cdn.jsdelivr.net/fetch/0.9.0/fetch.min.js"></script>
    <script src="//cdn.jsdelivr.net/react/15.4.1/react.js"></script>
    //.min
    <script src="//cdn.jsdelivr.net/react/15.4.1/react-dom.min.js"></script>
    <script src="//cdn.jsdelivr.net/graphiql/0.8.0/graphiql.min.js"></script>
    <script type="text/javascript">
        function graphQLFetcher(graphQLParams) {
            return fetch(window.location.origin + '/api/v1/graphql', {
                method: 'post',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify(graphQLParams)
            }).then(function (response) {
                return response.json()
            });
        }

        ReactDOM.render(
            React.createElement(GraphiQL, {
                fetcher: graphQLFetcher
            }),
            document.body
        );
    </script>
    <style>
        html, body {
            height: 100%;
            margin: 0;
            overflow: hidden;
            width: 100%;
        }
    </style>
</head>
<body>
</body>
</html>
